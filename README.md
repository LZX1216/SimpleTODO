# SimpleTODO
A simple To-Do List

一个功能丰富的待办事项管理应用，支持任务创建、编辑、删除、分类筛选、日期筛选、搜索、排序、导入导出等功能。

## 主要功能

- ✅ **任务管理**：创建、编辑、删除任务，支持标题、描述、分类、优先级、截止日期
- 🔍 **多维度筛选**：按分类筛选、按日期范围筛选（已过期、今天到期、明天到期、本周到期、本月到期、无截止日期）
- 🔎 **全文搜索**：在任务标题、描述、分类中搜索关键词
- 📊 **任务统计**：显示完成率、按分类统计、按优先级统计
- 📅 **日期管理**：智能日期显示（今天、明天、已过期X天、X天后），过期任务高亮提醒
- 📤 **数据导入/导出**：支持 JSON 格式的批量导入导出
- 📱 **响应式设计**：适配宽屏和窄屏，窄屏下提供折叠功能
- ⚡ **性能优化**：懒加载、防抖搜索、自动滚动加载
- 🎨 **现代化UI**：深蓝绿色系配色，流畅的动画效果

## 开发说明

### 热重载配置

**不需要每次重启！** 项目已配置自动重载：

#### 后端（FastAPI + Docker）
- ✅ 已配置 `--reload` 选项，代码更改自动重载
- ✅ 已挂载代码目录到容器，文件更改实时同步
- **修改后端代码后，保存文件即可，无需重启 Docker**

#### 前端（Vue + Vite）
- ✅ Vite 默认支持热模块替换（HMR）
- **修改前端代码后，浏览器自动刷新，无需重启 npm**

### 启动项目

1. **启动后端（Docker）**：
   ```bash
   docker-compose up
   ```
   首次启动需要构建镜像，之后只需启动容器即可。

2. **启动前端（开发模式）**：
   ```bash
   cd frontend
   npm run dev
   ```

### 开发工作流

1. 启动 Docker 和 npm 一次
2. 修改代码 → 保存文件
3. 后端：自动重载（uvicorn --reload）
4. 前端：自动刷新（Vite HMR）
5. **无需手动重启！**

### 注意事项

- 如果修改了 `requirements.txt` 或 `Dockerfile`，需要重新构建：
  ```bash
  docker-compose build
  docker-compose up
  ```
- 如果修改了 `package.json`，需要重新安装依赖：
  ```bash
  cd frontend
  npm install
  ```

## 功能特性

### 任务管理
- 创建任务：支持标题（必填，最大255字符）、描述（可选，最大1000字符）、分类、优先级、截止日期
- 编辑任务：点击编辑按钮可以修改任务的所有属性
- 删除任务：支持删除确认，防止误操作
- 完成任务：点击复选框可以快速标记任务为已完成/未完成

### 筛选和搜索
- **分类筛选**：支持默认分类（工作、学习、生活、未分类）和自定义分类
- **日期筛选**：已过期、今天到期、明天到期、本周到期、本月到期、无截止日期
- **全文搜索**：在标题、描述、分类中搜索，支持防抖处理（300ms）
- **排序方式**：按创建时间、优先级、截止日期排序

### 日期显示
- 智能日期格式：
  - 今天：`今天（11月15日）`（橙色高亮）
  - 明天：`明天（11月16日）`
  - 已过期：`已过期5天（11月10日）`（红色警告，脉冲动画）
  - 未来日期：`5天后（11月20日）`
  - 非今年：自动显示年份 `今天（2023年11月15日）`

### 任务描述
- 长描述自动折叠，默认显示3行
- 超过100字符或包含换行符时显示"展开/收起"按钮
- 支持多行显示，保留原始换行格式

### 响应式布局
- **宽屏幕（≥1024px）**：左右分栏，左侧固定350px，右侧自适应
- **窄屏幕（<1024px）**：
  - 单栏布局
  - "添加任务"、"搜索筛选"、"任务统计"默认折叠
  - 三个按钮互斥，同时只能打开一个
  - 导入导出按钮横向排列
- **超小屏幕（≤640px）**：进一步优化按钮大小和间距

### 性能优化
- **懒加载**：初始显示10条，滚动到底部自动加载更多
- **防抖搜索**：输入后300ms延迟，减少API请求
- **自动滚动加载**：使用 Intersection Observer，无需手动点击按钮

### 数据管理
- **导出功能**：导出所有任务为 JSON 格式，包含完整信息和时间戳
- **导入功能**：从 JSON 文件批量导入任务，支持导入完成状态

## 技术栈

- **后端**：Python 3.12 + FastAPI + SQLAlchemy + MySQL
- **前端**：Vue 3 (Composition API) + Vite + Axios
- **部署**：Docker + Docker Compose

详细技术说明请参考 [DOC.md](./DOC.md)